<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #box table {
            border-collapse: collapse;
        }
    </style>
</head>
<body>
    <div id="box"></div>
    <script src="common.js"></script>

    <script>
        var datas = [
            {name: 'zs', subject: '语文', score: 90},
            {name: 'ls', subject: '数学', score: 20},
            {name: 'ww', subject: '数学', score: 60},
            {name: 'zl', subject: '语文', score: 99},
            {name: 'xs', subject: '语文', score: 90},
            {name: 'dc', subject: '数学', score: 80}
        ];

        // 表头数据
        var headDatas = ['姓名', '科目', '成绩', '操作'];

        // 创建table元素
        var table = document.createElement('table');
        my$('box').appendChild(table);
        table.border = '1px';
        table.width = '400px';
        // 创建表头
        var thead = document.createElement('thead');
        table.appendChild(thead);

        var tr = document.createElement('tr');
        thead.appendChild(tr);
        tr.style.height = '40px';
        tr.style.backgroundColor = 'lightgray';

        // var th = document.createElement('th');
        // tr.appendChild(th);
        // setInnerText(th, '姓名');

        // th = document.createElement('th');
        // tr.appendChild(th);
        // setInnerText(th, '科目');

        // th = document.createElement('th');
        // tr.appendChild(th);
        // setInnerText(th, '成绩');

        // 遍历头部数据,创建th
        for (var i = 0; i < headDatas.length; i++) {
            var th = document.createElement('th');
            thead.appendChild(th);
            setInnerText(th, headDatas[i]);
        }

        // 创建数据行
        var tbody = document.createElement('tbody');
        table.appendChild(tbody);
        tbody.style.textAlign = 'center';
        for (var i = 0; i < datas.length; i++) {
            var data = datas[i];
            tr = document.createElement('tr');
            tbody.appendChild(tr);

            // 遍历对象
            for (var key in data) {
                var td = document.createElement('td');
                tr.appendChild(td);
                setInnerText(td, data[key]);
            }

            // 生成删除对应的列
            td = document.createElement('td');
            tr.appendChild(td);

            // 删除的超链接
            var link = document.createElement('a');
            td.appendChild(link);
            link.href = 'javascript:void(0)';
            setInnerText(link, '删除');

            link.onclick = linkDelete;

        }

        function linkDelete () {
            var tr = this.parentNode.parentNode;
            tbody.removeChild(tr);
            return false;
        }
    </script>
</body>
</html>